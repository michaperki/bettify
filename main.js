(()=>{"use strict";class t{constructor(t,e,n,s,i){this.id=t,this.user=e,this.betEvent=n,this.betAmount=s,this.betChoice=i}setId(t){this.id=t}getBet(){return this.id}setUser(t){this.user=t}setBetEvent(t){this.betEvent=t}setBetAmount(t){this.betAmount=t}setBetChoice(t){this.betChoice=t}getUser(){return this.user}getBetEvent(){return this.betEvent}getBetAmount(){return this.betAmount}getBetChoice(){return this.betChoice}}class e{constructor(t,e){this.id=1,this.name=t,this.duration=e,this.status="open",this.openTime=new Date,this.closeTime=new Date(this.openTime.getTime()+1e3*this.duration),this.bets=[]}setId(t){this.id=t}getId(){return this.id}setName(t){this.name=t}setDuration(t){this.duration=t}setStatus(t){this.status=t}getName(){return this.name}getDuration(){return this.duration}getOpenTime(){return this.openTime}addBet(t){this.bets.push(t)}removeBet(t){this.bets.splice(this.bets.indexOf(t),1)}getBets=()=>this.bets;setBets(t){this.bets=t}getTimeRemaining(){if("closed"===this.status)return 0;const t=new Date,e=this.closeTime-t;let n=Math.floor(e/1e3),s=Math.floor(n/60);return s<10&&(s=`0${s}`),n<10&&(n=`0${n}`),0===s?`${n}`:`${s}:${n}`}}class n{constructor(){this.betEvents=[],this.addBetEvent(new e("Who will win the 2020 US Presidential Election?",60)),this.addBetEvent(new e("Who will win the 2020 US Presidential Election?",60)),this.addBetEvent(new e("Who will win the 2020 US Presidential Election?",60))}setBetEvents(t){this.betEvents=t}getBetEvents(){return this.betEvents}getBetEvent(t){return this.betEvents[t]}addBetEvent(t){this.betEvents.push(t)}removeBetEvent(t){this.betEvents.splice(t,1)}}class s{static saveBetEventList(t){localStorage.setItem("betEventList",JSON.stringify(t))}static getBetEventList(){const s=Object.assign(new n,JSON.parse(localStorage.getItem("betEventList")));return s.setBetEvents(s.getBetEvents().map((t=>Object.assign(new e,t)))),s.getBetEvents().forEach((e=>{e.setBets(e.getBets().map((e=>Object.assign(new t,e))))})),s}static saveBetEvent(t){localStorage.setItem("betEvent",JSON.stringify(t))}static getBetEvent(){const n=Object.assign(new e,JSON.parse(localStorage.getItem("betEvent")));return n.setBets(n.getBets().map((e=>Object.assign(new t,e)))),n}static saveBet(t){localStorage.setItem("bet",JSON.stringify(t))}static getBet(){return Object.assign(new t,JSON.parse(localStorage.getItem("bet")))}}class i{static loadHomepage(){i.initAddBetEventButtons(),i.loadBetEventList()}static loadBetEventList(){s.getBetEventList().getBetEvents().forEach((t=>{const e=document.getElementById("bet-event-list"),n=document.createElement("div");n.classList.add("bet-event-preview"),n.innerHTML=`\n          <h1 class="bet-event-name">${t.getName()}</h1>\n          <div class="bet-list" id="bet-list"></div>\n          `,e.appendChild(n),t.getBets().forEach((e=>i.createBet(n,t,e)))}))}static loadBetEvent(t){console.log("loadBetEvent"),console.log(t),s.getBetEventList().getBetEvents().forEach((e=>{if(e.getName()===t){const t=document.getElementById("bet-list");t.innerHTML="",e.getBets().forEach((n=>i.createBet(t,e,n)))}}))}static loadBet(){}static loadBetEventListContent(t){document.getElementById("bet-event-preview").innerHTML=`\n      <h1 id="bet-event-name">${t}</h1>\n      <div class="bet-list" id="bet-list"></div>\n      `,i.loadBetEvent(t)}static createBetEvent(t,e){}static createBet(t,e,n){const s=document.createElement("div");return s.classList.add("bet"),s.innerHTML=`\n      <div class="bet-name">${t}</div>\n      <div class="bet-amount">${e}</div>\n      <div class="bet-choice">${n}</div>\n      <div class="bet-buttons">\n        <button class="button-edit-bet">Edit</button>\n        <button class="button-delete-bet">Delete</button>\n      </div> \n      `,s}static clear(){}static clearBetEventList(){}static clearBetEvent(){}static clearBet(){}static closeAllPopups(){}static closeAllInputs(){}static handleKeyboardInput(t){}static initAddBetEventButtons(){const t=document.getElementById("button-add-bet-event"),e=document.getElementById("button-add-bet-event-popup"),n=document.getElementById("button-cancel-bet-event-popup"),s=document.getElementById("input-add-bet-event-popup");t.addEventListener("click",i.openAddBetEventPopup),e.addEventListener("click",i.addBetEvent),n.addEventListener("click",i.closeAddBetEventPopup),s.addEventListener("input",i.handleAddBetEventPopupInput)}static openAddBetEventPopup(){const t=document.getElementById("add-bet-event-popup"),e=document.getElementById("button-add-bet-event");i.closeAllPopups(),t.classList.add("active"),e.classList.add("button_disabled")}static closeAddBetEventPopup(){const t=document.getElementById("add-bet-event-popup"),e=document.getElementById("button-add-bet-event"),n=document.getElementById("input-add-bet-event-popup");i.closeAllPopups(),t.classList.remove("active"),e.classList.remove("button_disabled"),n.value=""}static addBetEvent(){const t=document.getElementById("input-add-bet-event-popup");""!==t.value&&(s.saveBetEvent(new e(t.value,60)),i.loadBetEventListContent(t.value),i.closeAddBetEventPopup())}static handleAddBetEventPopupInput(t){}static initBetEventButtons(){document.getElementById("button-bet-events").addEventListener("click",i.openBetEventList)}static openBetEventPopup(){const t=document.getElementById("bet-event-popup"),e=document.getElementById("button-bet-event");i.closeAllPopups(),t.classList.add("active"),e.classList.add("button_disabled")}static closeBetEventPopup(){}static deleteBetEvent(){}static editBetEvent(){}static openBetEventList(){i.openBetEventList("curr",this)}static openBetEventList(t,e){[...document.querySelectorAll(".button-default-bet-event"),...document.querySelectorAll(".button-bet-event")].forEach((t=>{t.classList.remove("button_active")})),e.classList.add("button_active"),i.closeAddBetEventPopup(),i.loadBetEventListContent(t)}static initAddBetButtons(){}static openAddBetPopup(){}static closeAddBetPopup(){}static addBet(){}static handleAddBetPopupInput(t){}static initBetButtons(){}static openBetPopup(){}static closeBetPopup(){}static deleteBet(){}static editBet(){}static resolveBet(){}static handleBetPopupInput(t){}static openRenameBetEventPopup(){}static closeRenameBetEventPopup(){}static renameBetEvent(){}static handleRenameBetEventPopupInput(t){}static openChangeBetEventDurationPopup(){}static closeChangeBetEventDurationPopup(){}static changeBetEventDuration(){}static handleChangeBetEventDurationPopupInput(t){}}document.addEventListener("DOMContentLoaded",i.loadHomepage)})();